definitions:
  Project:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      serviceArea:
        $ref: '#/definitions/ServiceArea'
      projectNum:
        type: string
        maxLength: 255
      jobDesc1:
        type: string
        maxLength: 255
      jobDesc2:
        type: string
        maxLength: 255
      requests:
        type: array
        items:
          $ref: '#/definitions/Request'
      primaryContact:
        $ref: '#/definitions/Contact'
        description: Link to the designated Primary Contact.
      contacts:
        type: array
        items:
          $ref: '#/definitions/Contact'
      notes:
        type: array
        items:
          $ref: '#/definitions/Note'
      attachments:
        type: array
        items:
          $ref: '#/definitions/Attachment'
      history:
        type: array
        items:
          $ref: '#/definitions/History'
  Request:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      project:
        $ref: '#/definitions/Project'
      localArea:
        $ref: '#/definitions/LocalArea'
      equipmentType:
        $ref: '#/definitions/EquipmentType'
      equipmentCount:
        format: int32
        type: integer
      expectedHours:
        format: int32
        type: integer
      expectedStartDate:
        type: string
        format: date-time
      expectedEndDate:
        type: string
        format: date-time
      rotationList:
        $ref: '#/definitions/RotationList'
      hireOffers:
        type: array
        items:
          $ref: '#/definitions/HireOffer'
      notes:
        type: array
        items:
          $ref: '#/definitions/Note'
      attachments:
        type: array
        items:
          $ref: '#/definitions/Attachment'
      history:
        type: array
        items:
          $ref: '#/definitions/History'
  RotationList:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      localArea:
        $ref: '#/definitions/LocalArea'
      equipmentType:
        $ref: '#/definitions/EquipmentType'
      blocks:
        type: array
        items:
          $ref: '#/definitions/RotationListBlock'
  RotationListBlock:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      rotationList:
        $ref: '#/definitions/RotationList'
      blockNum:
        format: int32
        type: integer
        description: The block number. 1 for Primary, 2 for Secondary, 3 for Open
      cycleNum:
        type: number
        format: float
      maxCycle:
        type: number
        format: float
      lastHiredEquipment:
        $ref: '#/definitions/Equipment'
      startCycleEquipment:
        $ref: '#/definitions/Equipment'
      moved:
        type: string
        maxLength: 255
      startWasZero:
        type: string
        maxLength: 255
      rotatedBlock:
        format: int32
        type: integer
      blockName:
        type: string
      closed:
        type: string
        maxLength: 255
      closedComments:
        type: string
        maxLength: 2048
      closedDate:
        type: string
        format: date-time
      closedBy:
        type: string
      reservedDate:
        type: string
        format: date-time
      reservedBy:
        type: string
        maxLength: 255
  HireOffer:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      request:
        $ref: '#/definitions/Request'
      equipment:
        $ref: '#/definitions/Equipment'
      rentalAgreement:
        $ref: '#/definitions/RentalAgreement'
        description: The rental agreement created for this hire offer. Available only if status code is Yes
      isForceHire:
        type: boolean
      asked:
        type: boolean
      askedDate:
        type: string
        format: date-time
      acceptedOffer:
        type: boolean
        description: The response about the equipment. Either a No (move to next on the list) or Yes (move to on to the Rental Agreement)
      refuseReason:
        type: string
        maxLength: 255
      note:
        type: string
        maxLength: 255
      equipmentVerifiedActive:
        type: boolean
      flagEquipmentUpdate:
        type: boolean
      equipmentUpdateReason:
        type: string
        maxLength: 255
  RentalAgreement:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      equipment:
        $ref: '#/definitions/Equipment'
      project:
        $ref: '#/definitions/Project'
      timeRecords:
        type: array
        items:
          $ref: '#/definitions/TimeRecord'
  TimeRecord:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      rentalAgreement:
        $ref: '#/definitions/RentalAgreement'
      workedDate:
        type: string
        format: date-time
      enteredDate:
        type: string
        format: date-time
      hours:
        type: number
        format: float
      rate:
        type: number
        format: float
      hours2:
        type: number
        format: float
      rate2:
        type: number
        format: float
      hours3:
        type: number
        format: float
      rate3:
        type: number
        format: float
  Equipment:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      localArea:
        $ref: '#/definitions/LocalArea'
      equipmentType:
        $ref: '#/definitions/EquipmentType'
      dumpTruckDetails:
        $ref: '#/definitions/DumpTruck'
      owner:
        $ref: '#/definitions/Owner'
      equipCd:
        type: string
        maxLength: 255
      approval:
        type: string
        maxLength: 255
      approvedDate:
        type: string
        format: date-time
      receivedDate:
        type: string
        format: date-time
      addressLine1:
        type: string
        maxLength: 255
        description: Address 1 line of the address.
      addressLine2:
        type: string
        maxLength: 255
        description: Address 2 line of the address.
      addressLine3:
        type: string
        maxLength: 255
        description: Address 3 line of the address.
      addressLine4:
        type: string
        maxLength: 255
        description: Address 4 line of the address.
      city:
        type: string
        maxLength: 255
      postal:
        type: string
        maxLength: 255
      blockNumber:
        type: number
        format: float
      comment:
        type: string
        maxLength: 255
      cycleHrsWrk:
        type: number
        format: float
      frozenOut:
        type: string
        maxLength: 255
      lastVerifiedDate:
        type: string
        format: date-time
      licence:
        type: string
        maxLength: 255
      make:
        type: string
        maxLength: 255
      model:
        type: string
        maxLength: 255
      year:
        type: string
        maxLength: 255
      type:
        type: string
        maxLength: 255
      numYears:
        type: number
        format: float
      operator:
        type: string
        maxLength: 255
      payRate:
        type: number
        format: float
      refuseRate:
        type: string
        maxLength: 255
      seniority:
        type: number
        format: float
      serialNum:
        type: string
        maxLength: 255
      size:
        type: string
        maxLength: 255
      toDate:
        type: string
        format: date-time
      working:
        type: string
        maxLength: 255
      yearEndReg:
        type: string
        maxLength: 255
      prevRegArea:
        type: string
        maxLength: 255
      YTD:
        type: number
        format: float
      YTD1:
        type: number
        format: float
      YTD2:
        type: number
        format: float
      YTD3:
        type: number
        format: float
      statusCd:
        type: string
        maxLength: 255
      archiveCd:
        type: string
        maxLength: 255
      archiveReason:
        type: string
        maxLength: 255
      archiveDate:
        type: string
        format: date-time
      draftBlockNum:
        type: number
        format: float
      regDumpTruck:
        type: string
        maxLength: 255
      equipmentAttachments:
        type: array
        items:
          $ref: '#/definitions/EquipmentAttachment'
      notes:
        type: array
        items:
          $ref: '#/definitions/Note'
      attachments:
        type: array
        items:
          $ref: '#/definitions/Attachment'
      history:
        type: array
        items:
          $ref: '#/definitions/History'
      seniorityAudit:
        type: array
        items:
          $ref: '#/definitions/SeniorityAudit'
  DumpTruck:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      singleAxle:
        type: string
        maxLength: 255
      tandemAxle:
        type: string
        maxLength: 255
      PUP:
        type: string
        maxLength: 255
      bellyDump:
        type: string
        maxLength: 255
      tridem:
        type: string
        maxLength: 255
      rockBox:
        type: string
        maxLength: 255
      hiliftGate:
        type: string
        maxLength: 255
      waterTruck:
        type: string
        maxLength: 255
      sealCoatHitch:
        type: string
        maxLength: 255
      rearAxleSpacing:
        type: string
        maxLength: 255
      frontTireSize:
        type: string
        maxLength: 255
      frontTireUOM:
        type: string
        maxLength: 255
      frontAxleCapacity:
        type: string
        maxLength: 255
      rearAxleCapacity:
        type: string
        maxLength: 255
      legalLoad:
        type: string
        maxLength: 255
      legalCapacity:
        type: string
        maxLength: 255
      legalPUPTareWeight:
        type: string
        maxLength: 255
      licencedGVW:
        type: string
        maxLength: 255
      licencedGVWUOM:
        type: string
        maxLength: 255
      licencedTareWeight:
        type: string
        maxLength: 255
      licencedPUPTareWeight:
        type: string
        maxLength: 255
      licencedLoad:
        type: string
        maxLength: 255
      licencedCapacity:
        type: string
        maxLength: 255
      boxLength:
        type: string
        maxLength: 255
      boxWidth:
        type: string
        maxLength: 255
      boxHeight:
        type: string
        maxLength: 255
      boxCapacity:
        type: string
        maxLength: 255
      trailerBoxLength:
        type: string
        maxLength: 255
      trailerBoxWidth:
        type: string
        maxLength: 255
      trailerBoxHeight:
        type: string
        maxLength: 255
      trailerBoxCapacity:
        type: string
        maxLength: 255
  EquipmentAttachment:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      equipment:
        $ref: '#/definitions/Equipment'
      type:
        $ref: '#/definitions/EquipmentAttachmentType'
        description: The type of the equipment attachment.
      seqNum:
        format: int32
        type: integer
      description:
        type: string
        maxLength: 255
  EquipmentType:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      localArea:
        $ref: '#/definitions/LocalArea'
      code:
        type: string
        maxLength: 255
      description:
        type: string
        maxLength: 255
      equipRentalRateNo:
        type: number
        format: float
      equipRentalRatePage:
        type: number
        format: float
      maxHours:
        type: number
        format: float
      extendHours:
        type: number
        format: float
      maxHoursSub:
        type: number
        format: float
      secondBlk:
        type: string
        maxLength: 255
  EquipmentAttachmentType:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      code:
        type: string
        maxLength: 255
      description:
        type: string
        maxLength: 255
  SeniorityAudit:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      generatedTime:
        type: string
        format: date-time
      localArea:
        $ref: '#/definitions/LocalArea'
      equipment:
        $ref: '#/definitions/Equipment'
      blockNum:
        type: number
        format: float
      equipCd:
        type: string
        maxLength: 255
      owner:
        $ref: '#/definitions/Owner'
      ownerName:
        type: string
        maxLength: 255
      seniority:
        type: number
        format: float
      YTD:
        type: number
        format: float
      YTD1:
        type: number
        format: float
      YTD2:
        type: number
        format: float
      YTD3:
        type: number
        format: float
      cycleHrsWrk:
        type: number
        format: float
      frozenOut:
        type: string
        maxLength: 255
      project:
        $ref: '#/definitions/Project'
      working:
        type: string
        maxLength: 255
      yearEndReg:
        type: string
        maxLength: 255
  Owner:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      ownerCd:
        type: string
        maxLength: 255
      ownerFirstName:
        type: string
        maxLength: 255
      ownerLastName:
        type: string
        maxLength: 255
      contactPerson:
        type: string
        maxLength: 255
      localToArea:
        type: string
        maxLength: 255
      maintenanceContractor:
        type: string
        maxLength: 255
      comment:
        type: string
        maxLength: 255
      WCBNum:
        format: int32
        type: integer
      WCBExpiryDate:
        type: string
        format: date-time
      CGLCompany:
        type: string
        maxLength: 255
      CGLPolicy:
        type: string
        maxLength: 255
      CGLStartDate:
        type: string
        format: date-time
      CGLEndDate:
        type: string
        format: date-time
      statusCd:
        type: string
        maxLength: 255
      archiveCd:
        type: string
        maxLength: 255
      archiveReason:
        type: string
        maxLength: 255
      localArea:
        $ref: '#/definitions/LocalArea'
      primaryContact:
        $ref: '#/definitions/Contact'
        description: Link to the designated Primary Contact.
      contacts:
        type: array
        items:
          $ref: '#/definitions/Contact'
      notes:
        type: array
        items:
          $ref: '#/definitions/Note'
      attachments:
        type: array
        items:
          $ref: '#/definitions/Attachment'
      history:
        type: array
        items:
          $ref: '#/definitions/History'
      equipmentList:
        type: array
        items:
          $ref: '#/definitions/Equipment'
  Contact:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      givenName:
        type: string
        maxLength: 255
        description: The given name of the contact.
      surname:
        type: string
        maxLength: 255
        description: The surname of the contact.
      role:
        type: string
        maxLength: 255
        description: The role of the contact. UI controlled as to whether it is free form or selected from an enumerated list.
      notes:
        type: string
        maxLength: 255
        description: Notes about the contact.
      phones:
        type: array
        items:
          $ref: '#/definitions/ContactPhone'
      addresses:
        type: array
        items:
          $ref: '#/definitions/ContactAddress'
  ContactPhone:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      type:
        type: string
        maxLength: 255
        description: The type of the phone number. UI controlled as to whether it is free form or selected from an enumerated list.
      phoneNumber:
        type: string
        maxLength: 255
        description: The phone number of the contact. Entered as free form to support a range of formats.
  ContactAddress:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      type:
        type: string
        maxLength: 255
        description: The type of the address. UI controlled as to whether it is free form or selected from an enumerated list.
      addressLine1:
        type: string
        maxLength: 255
        description: Address 1 line of the address.
      addressLine2:
        type: string
        maxLength: 255
        description: Address 2 line of the address.
      city:
        type: string
        maxLength: 255
        description: The City of the address.
      province:
        type: string
        maxLength: 255
        description: The Province of the address.
      postalCode:
        type: string
        maxLength: 255
        description: The postal code of the address.
  Note:
    type: object
    description: Notes entered by users.
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      note:
        type: string
        maxLength: 2048
        description: The contents of the note.
      isNoLongerRelevant:
        type: boolean
        description: A user set flag that the note is no longer relevant. Allows the note to be retained for historical reasons, but identified to the user as no longer relevant.
  Attachment:
    type: object
    description: Attachments uploaded by users. Attachments are stored in the file system, with rows in this table pointing to the file system location of the attachment.
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      internalFileName:
        type: string
        maxLength: 2048
        description: The physical location of the attachment on the file system.
      externalFileName:
        type: string
        maxLength: 2048
        description: The name of the attachment as defined by the user in uploading the document.
      description:
        type: string
        maxLength: 255
        description: A note about the attachment,  optionally maintained by the user.
  History:
    type: object
    description: The history of updates made to a record. Exact format of the history TBD.
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      historyText:
        type: string
        maxLength: 2048
        description: The text of the history entry tracked against the related entity.
      createdDate:
        type: string
        format: date-time
        description: Date the record is created.
  LocalArea:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      name:
        type: string
        maxLength: 255
        description: The full name of the Local Area
      serviceArea:
        $ref: '#/definitions/ServiceArea'
        description: The Service Area in which the Local Area is found.
  FavouriteContextType:
    type: object
    description: The name for a place in the UI where per user settings can be stored - for example, the School Bus search screen, School Bus Owner search screen, etc.
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      name:
        type: string
        maxLength: 255
        description: Context Name known by the UI.
  UserFavourite:
    type: object
    description: User specific settings for a specific location in the UI. The location and saved settings are internally defined by the UI.
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      name:
        type: string
        maxLength: 255
        description: The user-defined name for the recorded settings. Allows the user to save different groups of settings and access each one easily when needed.
      value:
        type: string
        maxLength: 2048
        description: The settings saved by the user. In general,  a UI defined chunk of json that stores the settings in place when the user created the favourite.
      isDefault:
        type: boolean
        description: True if this Favourite is the default for this Context Type. On first access to a context in a session the default favourite for the context it is invoked. If there is no default favourite,  a system-wide default is invoked. On return to the context within a session,  the last parameters used are reapplied.
      favouriteContextType:
        $ref: '#/definitions/FavouriteContextType'
  Region:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      ministryRegionID:
        format: int32
        type: integer
        description: The Ministry ID for the Region
      name:
        type: string
        maxLength: 255
        description: The name of the Region
      startDate:
        type: string
        format: date-time
        description: The effective date of the Region - NOT CURRENTLY ENFORCED
      endDate:
        type: string
        format: date-time
        description: The end date of the Region; null if active - NOT CURRENTLY ENFORCED
  District:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      ministryDistrictID:
        format: int32
        type: integer
        description: The Ministry ID for the District
      name:
        type: string
        maxLength: 255
        description: The name of the District
      region:
        $ref: '#/definitions/Region'
        description: The region in which the District is found.
      startDate:
        type: string
        format: date-time
        description: The effective date of the District ID - NOT CURRENTLY ENFORCED
      endDate:
        type: string
        format: date-time
        description: The end date of the District; null if active - NOT CURRENTLY ENFORCED
  ServiceArea:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      ministryServiceAreaID:
        format: int32
        type: integer
        description: The Ministry ID for the Service Area
      name:
        type: string
        maxLength: 255
        description: The name of the Service Area
      district:
        $ref: '#/definitions/District'
        description: The district in which the Service Area is found.
      startDate:
        type: string
        format: date-time
        description: The effective date of the Service Area - NOT CURRENTLY ENFORCED
      endDate:
        type: string
        format: date-time
        description: The end date of the Service Area; null if active - NOT CURRENTLY ENFORCED
  City:
    type: object
    description: A list of cities in BC. Authoritative source to be determined.
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      name:
        type: string
        maxLength: 255
        description: The name of the City
  User:
    type: object
    description: Information about the users of the system.
    required:
      - id
      - active
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      givenName:
        type: string
        maxLength: 255
      surname:
        type: string
        maxLength: 255
      initials:
        type: string
        maxLength: 255
      email:
        type: string
        maxLength: 255
      active:
        type: boolean
      smUserId:
        type: string
        maxLength: 255
        description: Security Manager User ID
      guid:
        type: string
        maxLength: 255
      smAuthorizationDirectory:
        type: string
        maxLength: 255
      userRoles:
        type: array
        items:
          $ref: '#/definitions/UserRole'
      groupMemberships:
        type: array
        items:
          $ref: '#/definitions/GroupMembership'
  UserRole:
    type: object
    required:
      - id
      - effectiveDate
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      effectiveDate:
        type: string
        format: date-time
      expiryDate:
        type: string
        format: date-time
      user:
        $ref: '#/definitions/User'
      role:
        $ref: '#/definitions/Role'
  Role:
    type: object
    required:
      - id
      - name
      - description
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      name:
        type: string
        maxLength: 255
      description:
        type: string
        maxLength: 255
      rolePermissions:
        type: array
        items:
          $ref: '#/definitions/RolePermission'
      userRoles:
        type: array
        items:
          $ref: '#/definitions/UserRole'
  RolePermission:
    type: object
    required:
      - id
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      role:
        $ref: '#/definitions/Role'
      permission:
        $ref: '#/definitions/Permission'
  Permission:
    type: object
    required:
      - id
      - code
      - name
      - description
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      code:
        type: string
        maxLength: 255
      name:
        type: string
        maxLength: 255
      description:
        type: string
        maxLength: 255
  GroupMembership:
    type: object
    required:
      - id
      - active
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      active:
        type: boolean
      group:
        $ref: '#/definitions/Group'
      user:
        $ref: '#/definitions/User'
  Group:
    type: object
    required:
      - id
      - name
      - description
    properties:
      id:
        format: int32
        type: integer
        description: Primary Key
      name:
        type: string
        maxLength: 255
      description:
        type: string
        maxLength: 255
